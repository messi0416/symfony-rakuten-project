!function(a,b){"function"==typeof define&&define.amd?define(function(){return a.AnimateTransition=b()}):"object"==typeof module&&module.exports?module.exports=a.AnimateTransition=b():a.AnimateTransition=b()}(this,function(){"use strict";function a(){function a(){document.body.appendChild(l)}function b(){l.parentNode&&document.body.removeChild(l)}function c(a){return a?a.tagName?a:document.querySelector(a):null}function d(a,b,c){for(var d=0;d<k.length;d++)k[d]||(b=b.toLowerCase()),a.addEventListener(k[d]+b,c,!1)}function e(a,b,c){for(var d=0;d<k.length;d++)k[d]||(b=b.toLowerCase()),a.removeEventListener(k[d]+b,c,!1)}function f(a,b){return a.className?a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)")):!1}function g(a,b){a&&!f(a,b)&&(a.className+=" "+b)}function h(a,b){a&&f(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(?=\\s|$)"),""))}function i(a){return{type:"fake",animationName:a||"none",stopPropagation:function(){}}}function j(f){function j(a){a.animationName===o&&(t(m,n,l,a),e(l,"AnimationStart",j))}function k(a){a.animationName===o&&(a.stopPropagation(),m&&(m.busy=!1),n&&(n.busy=!1,n.parentNode===l&&l.removeChild(n),h(n,q)),u(m,n,l,a),h(l,r),h(m,p),v&&clearTimeout(v),b(),e(l,"AnimationEnd",k))}var l,m,n,o,p,q,r,s,t,u,v,w=3500;if(f=f||{},l=c(f.container)||document.body,m=c(f.blockIn),n=c(f.blockOut),o=f.animation||"none",s=f.beforeTransition||function(){},t=f.onTransitionStart||function(){},u=f.onTransitionEnd||function(){},p=o+"-transition-view-to-show",q=o+"-transition-view-to-hide",r="transition-"+o,!m&&!n)return void console.log("Blocks are not defined");if(m===n)return void console.log("You are trying to animate same element");if(m&&m.busy||n&&n.busy)return void console.log("You try apply new animation cannot be applied to the same element until previous animation is not finished.");if(s&&s(m,n,l)===!1)return void console.log("Result of the beforeTransition callback is false");if(d(l,"AnimationStart",j),d(l,"AnimationEnd",k),"none"!==o)m&&(m.busy=!0,g(m,p),l.appendChild(m)),n&&(n.busy=!0,g(n,q),n.offsetHeight),a(),v=window.setTimeout(function(){k(i(o))},w),g(l,r);else if(m&&l.appendChild(m),t(m,n,l,i()),n){try{l.removeChild(n)}catch(x){console.log("You try apply new animation without subject")}u(m,n,l,i())}else u(m,n,l,i())}var k=["webkit","moz","MS","o",""],l=document.createElement("div");return l.className="transition-overlay",j}var b;return b=new a,b.Constructor=a,b});